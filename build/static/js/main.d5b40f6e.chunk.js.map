{"version":3,"sources":["tool.ts","Layout/Flex.tsx","components/Checkbox.tsx","components/CheckboxGroup.tsx","components/Dropdown.tsx","components/SortTrigger.tsx","components/HeaderCol.tsx","components/Modal.tsx","components/Table.tsx","csv/data.ts","Layout/Space.tsx","components/CategoryManager.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["fileExt","path","substr","lastIndexOf","formatDate","d","year","getFullYear","month","getMonth","day","getDate","Flex","props","style","display","flexDirection","direction","children","Item","flex","occupy","Checkbox","useState","checked","setChecked","size","padding","width","height","onChange","e","value","target","type","id","title","fontSize","htmlFor","CheckboxGroup","defaultValue","setValue","handleChildChecked","childValue","withValue","includes","newValue","concat","filter","v","map","cloneElement","key","indexOf","Dropdown","child","React","Children","only","dropdownTrigger","disabled","Trigger","onClick","handleVisible","visible","stopPropagation","Popup","position","right","backgroundColor","top","border","content","SortTrigger","left","CaretUpOutlined","color","status","CaretDownOutlined","HeaderCol","visiblle","setVisible","setStatus","cursor","userSelect","sorter","newStatus","handleSort","dataKey","marginLeft","filters","textAlign","length","margin","handleFilter","FilterOutlined","Modal","useEffect","minHeight","transform","zIndex","marginTop","Table","columns","dataSource","cateMap","setData","innerData","setFilters","onFilter","values","newData","onSort","sortType","sort","reverse","income","setIncome","expense","setExpense","statistics","setStat","statType","setStatType","tempIn","tempOut","forEach","amount","marginBottom","category","bottom","undefined","temp","push","get","name","a","b","c","i","ii","render","toString","bills","categories","SpaceSize","Space","marginValue","justifyContent","marginRight","CategoryManager","handleCateMap","ope","newCate","setNewCate","parseInt","minLength","maxLength","alert","randomId","Math","random","slice","has","set","Array","from","delete","PlusOutlined","App","bill","setBill","setDataSource","Map","setCateMap","cateFilters","useMemo","time","Date","newItem","setNewItem","processData","data","index","element","reduce","p","parseFloat","processCategory","getTime","record","toLocaleDateString","className","files","file","reader","FileReader","onerror","console","error","readAsText","onloadend","res","parse","result","errors","placeholder","accept","setHours","overflowY","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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J,CACI,IACA,gBACA,aACA,QAEJ,CACI,IACA,gBACA,aACA,QAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,aACA,QAEJ,CACI,IACA,gBACA,cACA,OAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,aACA,QAEJ,CACI,IACA,gBACA,aACA,QAEJ,CACI,IACA,gBACA,aACA,QAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,aACA,QAEJ,CACI,IACA,gBACA,cACA,SAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,cACA,SAEJ,CACI,IACA,gBACA,cACA,SAEJ,CACI,IACA,gBACA,cACA,SAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,cACA,SAEJ,CACI,IACA,gBACA,cACA,SAEJ,CACI,IACA,gBACA,cACA,UAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,cACA,QAEJ,CACI,IACA,gBACA,cACA,SAIKC,EAAiB,CAC1B,CACI,KACA,OACA,QAEJ,CACI,aACA,IACA,gBAEJ,CACI,aACA,IACA,4BAEJ,CACI,aACA,IACA,gBAEJ,CACI,cACA,IACA,4BAEJ,CACI,cACA,IACA,4BAEJ,CACI,cACA,IACA,gBAEJ,CACI,cACA,IACA,gBAEJ,CACI,cACA,IACA,4BAEJ,CACI,cACA,IACA,gBAEJ,CACI,cACA,IACA,4BAEJ,CACI,cACA,IACA,6B,QCrVFC,EAAY,CACd,MAAS,EACT,OAAU,EACV,MAAS,IAsBEC,MAnBf,SAAerI,GAKX,IAAD,EAC8DA,EAArDa,YADT,MACgB,SADhB,IAC8Db,EAApCI,iBAD1B,MACsC,aADtC,EACoDH,EAAUD,EAAVC,MAC7CqI,EAAcF,EAAUvH,GAC9B,OACI,cAAC,EAAD,CAAMZ,MAAK,2BAAOA,GAAP,IAAcsI,eAAgB,iB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","file":"static/js/main.d5b40f6e.chunk.js","sourcesContent":["export function fileExt(path: string) {\r\n    return path.substr(path.lastIndexOf('.'));\r\n}\r\n\r\n\r\nexport function formatDate(d: Date) {\r\n    const year = d.getFullYear()\r\n    const month = d.getMonth() + 1\r\n    const day = d.getDate()\r\n    return `${year}-${month <= 9 ? '0' + month : month}-${day <= 9 ? '0' + day : day}`\r\n}","import { CSSProperties } from \"react\"\r\n\r\nexport interface FlexProps {\r\n    style?: CSSProperties,\r\n    direction?: \"-moz-initial\" | \"inherit\" | \"initial\" | \"revert\" | \"unset\" | \"column\" | \"column-reverse\" | \"row\" | \"row-reverse\",\r\n    children?: React.ReactNode\r\n}\r\n\r\nfunction Flex(props: FlexProps) {\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: props.direction, ...props.style }}>\r\n            {\r\n                props.children\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport interface FlexItemProps {\r\n    style?: CSSProperties,\r\n    occupy?: number,\r\n    children?: React.ReactNode\r\n}\r\n\r\nFlex.Item = function Item(props: FlexItemProps) {\r\n    return (\r\n        <div style={{ flex: props.occupy || 1, ...props.style }}>\r\n            {\r\n                props.children\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default Flex","import { useState } from \"react\";\r\n\r\n\r\nexport interface CheckboxProps {\r\n    checked?: boolean,\r\n    title: string,\r\n    value: any,\r\n    size?: number,\r\n    onChange?: (v: any, checked: boolean) => void\r\n}\r\n\r\nfunction Checkbox(props: CheckboxProps) {\r\n    const [checked, setChecked] = useState(props.checked || false);\r\n    const { size = 16 } = props;\r\n\r\n    function onChange(e: any) {\r\n        setChecked(!checked)\r\n    }\r\n    return (\r\n        <div style={{ padding: 4 }}>\r\n            <input style={{\r\n                width: size,\r\n                height: size\r\n            }} onChange={props.onChange ? (e) => {\r\n                if (props.onChange) props.onChange(props.value, e.target.checked)\r\n                setChecked(e.target.checked)\r\n            } : onChange} checked={props.checked || checked} type=\"checkbox\" id={props.title} value={props.value} />\r\n            <label style={{\r\n                fontSize: size\r\n            }} htmlFor={props.title}>{props.title}</label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkbox;","import { cloneElement, useState } from \"react\";\r\n\r\nfunction CheckboxGroup(props: {\r\n    children?: JSX.Element[] | null,\r\n    value?: any\r\n    defaultValue?: any\r\n    onChange?: (value: any[]) => void\r\n}) {\r\n\r\n    const [value, setValue] = useState<any[]>(props.value || props.defaultValue || [])\r\n\r\n    function handleChildChecked(childValue: any, checked: boolean) {\r\n        const withValue = value.includes(childValue);\r\n        const newValue = checked && !withValue ? value.concat([childValue]) : value.filter(v => v !== childValue)\r\n        setValue(newValue)\r\n        if (props.onChange) props.onChange(newValue)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                props.children && props.children.map(v => {\r\n                    return cloneElement(v, {\r\n                        key: v.props.value,\r\n                        checked: value.indexOf(v.props.value) > -1,\r\n                        onChange: handleChildChecked\r\n                    });\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckboxGroup;","import React, { cloneElement } from \"react\";\r\n\r\n\r\n/**\r\n * 默认点击触发\r\n * @param props \r\n * @returns \r\n */\r\nfunction Dropdown(props: {\r\n    content: JSX.Element,\r\n    children: any,\r\n    handleVisible: any,\r\n    visible: boolean;\r\n    disabled?: boolean\r\n}) {\r\n\r\n    const child = React.Children.only(props.children) as React.ReactElement<any>;\r\n\r\n    const dropdownTrigger = cloneElement(child, {\r\n        disabled: props.disabled,\r\n    });\r\n\r\n    function Trigger() {\r\n        return (\r\n            <div onClick={(e) => {\r\n                props.handleVisible(!props.visible)\r\n                e.stopPropagation()\r\n            }} style={{ display: 'inline-block' }}>\r\n                {dropdownTrigger}\r\n            </div>)\r\n    }\r\n\r\n    function Popup() {\r\n        return (\r\n            <div style={{\r\n                display: \"block\",\r\n                position: 'absolute',\r\n                // width: 100,\r\n                right: 0,\r\n                backgroundColor: 'white',\r\n                top: 28,\r\n                border: '1px solid black'\r\n            }}>\r\n                {props.content}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div style={{ display: 'inline-block', position: 'relative' }}>\r\n            {\r\n                props.visible && <Popup />\r\n            }\r\n            {<Trigger />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dropdown;","import { CaretDownOutlined, CaretUpOutlined } from \"@ant-design/icons\";\r\nimport React from \"react\";\r\n\r\nfunction SortTrigger(props: {\r\n    status: 'up' | 'down' | 'none',\r\n}) {\r\n    return (\r\n        <div style={{ display: 'inline-block', position: 'relative', top: -4, left: -5 }}>\r\n            <div style={{ display: 'flex', flexDirection: \"column\" }}>\r\n                <CaretUpOutlined style={{ flex: 1, color: props.status === 'up' ? '#1890ff' : 'black' }} />\r\n                <CaretDownOutlined style={{ flex: 1, color: props.status === 'down' ? '#1890ff' : 'black' }} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SortTrigger;","import { FilterOutlined } from \"@ant-design/icons\";\r\nimport React, { useState } from \"react\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport CheckboxGroup from \"./CheckboxGroup\";\r\nimport Dropdown from \"./Dropdown\";\r\nimport SortTrigger from \"./SortTrigger\";\r\n\r\nexport type SortType = 'none' | 'up' | 'down';\r\n\r\nfunction HeaderCol(props: {\r\n    handleFilter: (key: string, filter: any, values: any[]) => void\r\n    handleSort: (key: string, sorter: any, sortType: SortType) => void\r\n    dataKey: string,\r\n    children: React.ReactNode,\r\n    sorter?: (a: any, b: any) => any,\r\n    filter?: (values: any[], record: any) => boolean,\r\n    filters?: any[]\r\n}) {\r\n\r\n    const [visiblle, setVisible] = useState(false)\r\n    const [status, setStatus] = useState<SortType>('none');\r\n    const [value, setValue] = useState([])\r\n    return (\r\n        <th style={{ flex: 1, cursor: 'pointer', userSelect: 'none' }}>\r\n            <span onClick={() => {\r\n                if (!props.sorter) return\r\n                const newStatus = status === 'none' ? 'up' : status === 'up' ? 'down' : 'none'\r\n                setStatus(newStatus)\r\n                props.handleSort(props.dataKey, props.sorter, newStatus)\r\n            }} style={{ marginLeft: 6, position: 'relative', top: 5 }}>\r\n                {!props.sorter || <SortTrigger status={status} />}\r\n                <span>{props.children}</span>\r\n            </span>\r\n            {\r\n                !props.filters || <Dropdown handleVisible={() => {\r\n                    setVisible(!visiblle)\r\n                }} visible={visiblle} content={\r\n                    <div style={{\r\n                        width: 100,\r\n                        textAlign: 'left',\r\n                        padding: 5,\r\n                    }}>\r\n                        <CheckboxGroup onChange={(v: any) => {\r\n                            setValue(v)\r\n                        }} value={value}>\r\n                            {\r\n                                props.filters && props.filters.length > 0 ?\r\n                                    props.filters.map((v: any) => <Checkbox key={v.value} title={v.title} value={v.value} />) :\r\n                                    null\r\n                            }\r\n                        </CheckboxGroup>\r\n                        <div>\r\n                            <button onClick={() => { setVisible(false) }} style={{ margin: 3 }}>取消</button>\r\n                            <button onClick={() => {\r\n                                setVisible(false)\r\n                                props.handleFilter(props.dataKey, props.filter, value)\r\n                            }} style={{ margin: 3 }}>确认</button>\r\n                        </div>\r\n                    </div>\r\n                }>\r\n                    <FilterOutlined onClick={() => {\r\n                        setVisible(true)\r\n                    }} style={{ display: 'inline-block', marginLeft: 3, height: 30, width: 30, position: 'relative', top: 5 }} />\r\n                </Dropdown>\r\n            }\r\n\r\n\r\n        </th>\r\n    );\r\n}\r\n\r\nexport default HeaderCol","import { useEffect, useState } from \"react\";\r\n\r\nexport interface ModalProps {\r\n    visible?: boolean;\r\n    width?: number | string,\r\n    title?: string,\r\n    children: any\r\n}\r\n\r\nfunction Modal(props: ModalProps) {\r\n\r\n    const [visible, setVisible] = useState(props.visible)\r\n\r\n    useEffect(() => {\r\n        setVisible(props.visible)\r\n    }, [props.visible])\r\n\r\n    return (\r\n        <div style={{\r\n            width: props.width || 300,\r\n            minHeight: 200,\r\n            display: visible ? \"block\" : 'none',\r\n            position: 'fixed',\r\n            top: '35%',\r\n            left: '50%',\r\n            border: '1px solid #999',\r\n            transform: 'translateX(-50%)',\r\n            backgroundColor: 'white',\r\n            zIndex: 99\r\n        }}>\r\n            <div style={{\r\n                marginTop: 10\r\n            }}>{props.title}</div>\r\n            {props.children}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal;","import React, { useEffect, useState } from \"react\";\r\nimport { CategoryItem } from \"../App\";\r\nimport Flex from \"../Layout/Flex\";\r\nimport HeaderCol, { SortType } from \"./HeaderCol\";\r\nimport Modal from \"./Modal\";\r\n\r\n\r\nexport interface ColumnItem {\r\n    /**\r\n     * 数据内的key名\r\n     */\r\n    dataKey: string,\r\n\r\n\r\n    /**\r\n     * 唯一标识\r\n     */\r\n    key: string\r\n\r\n    /**\r\n     * 表头的展示名称\r\n     */\r\n    title: string,\r\n\r\n    /**\r\n     * 该项是否支持排序，默认按值大小排序，需要为number可惜\r\n     */\r\n    sorter?: (a: any, b: any) => any,\r\n\r\n    onFilter?: (values: any[], record: any) => boolean\r\n\r\n    render?: (value: any, record?: any) => JSX.Element\r\n\r\n    /**\r\n     * 表头的筛选组\r\n     */\r\n    filters?: { value: any, title: string }[],\r\n\r\n    /**\r\n     * 筛选是否支持多选\r\n     */\r\n    filterMultiple?: boolean;\r\n\r\n\r\n}\r\n\r\nfunction Table(props: {\r\n    columns: ColumnItem[],\r\n    dataSource: object[],\r\n    cateMap: Map<string, CategoryItem>\r\n}) {\r\n\r\n    const { columns, dataSource, cateMap } = props;\r\n\r\n    useEffect(() => {\r\n        setData(dataSource)\r\n    }, [dataSource])\r\n\r\n    const [innerData, setData] = useState(dataSource || [])\r\n\r\n    const [filters, setFilters] = useState<any>({})\r\n\r\n    function onFilter(key: string, filter: any, values: any[]) {\r\n\r\n        filters[key] = {\r\n            filter,\r\n            values\r\n        }\r\n\r\n        if (values.length === 0) {\r\n            delete filters[key]\r\n        }\r\n\r\n        setFilters(filters)\r\n        let newData = dataSource;\r\n        for (let key in filters) {\r\n            newData = newData.filter((v) => filters[key].filter(filters[key].values, v))\r\n        }\r\n\r\n        setData(newData)\r\n    }\r\n\r\n    function onSort(key: string, sorter: any, sortType: SortType) {\r\n        const newData = sortType === 'none' ? innerData : [...innerData].sort(sorter);\r\n        if (sortType === 'down') {\r\n            newData.reverse()\r\n        }\r\n        setData(newData)\r\n    }\r\n\r\n    const [income, setIncome] = useState(0);\r\n\r\n    const [expense, setExpense] = useState(0);\r\n\r\n    const [statistics, setStat] = useState<{ category: string, amount: number, id: string, type: string }[]>([])\r\n\r\n    const [statType, setStatType] = useState('支出')\r\n\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    function clickToStatistics() {\r\n        const values: any = {}\r\n\r\n        innerData.forEach((v: any) => {\r\n            if (values[v.category] === undefined) {\r\n                values[v.category] = v.amount\r\n            } else {\r\n                values[v.category] += v.amount\r\n            }\r\n        })\r\n        const temp = []\r\n        for (let key in values) {\r\n            temp.push({\r\n                id: key,\r\n                category: cateMap.get(key)?.name || '未定义',\r\n                type: cateMap.get(key)?.type === 0 ? '支出' : '收入',\r\n                amount: values[key]\r\n            })\r\n        }\r\n        temp.sort((a, b) => b.amount - a.amount)\r\n        setStat(temp)\r\n\r\n        setVisible(true)\r\n    }\r\n\r\n    useEffect(() => {\r\n        let tempIn = 0;\r\n        let tempOut = 0;\r\n        innerData.forEach((v: any) => {\r\n            tempIn += v.type === 1 ? v.amount : 0;\r\n            tempOut += v.type === 0 ? v.amount : 0;\r\n        })\r\n        setIncome(tempIn)\r\n        setExpense(tempOut)\r\n    }, [\r\n        innerData\r\n    ])\r\n    return (\r\n        <div>\r\n            <Modal title=\"统计分析\" visible={visible}>\r\n                <div style={{ marginBottom: 40 }}>\r\n                    <Flex>\r\n                        <Flex.Item>\r\n                            分类\r\n                        </Flex.Item>\r\n                        <Flex.Item>\r\n                            收支类型\r\n                        </Flex.Item>\r\n                        <Flex.Item>\r\n                            金额\r\n                        </Flex.Item>\r\n                    </Flex>\r\n                    {\r\n                        statistics.length > 0 ? statistics.filter((v) => v.type === statType).map((v) =>\r\n                            <Flex style={{ marginTop: 6 }} key={v.id}>\r\n                                <Flex.Item>\r\n                                    {v.category}\r\n                                </Flex.Item>\r\n                                <Flex.Item>\r\n                                    {v.type}\r\n                                </Flex.Item>\r\n                                <Flex.Item>\r\n                                    {v.amount}\r\n                                </Flex.Item>\r\n                            </Flex>) : <div>无数据</div>\r\n                    }\r\n                </div>\r\n                <div style={{ position: 'absolute', bottom: 0, right: 0, margin: 8 }}>\r\n                    <button onClick={() => {\r\n                        setStatType(statType === '支出' ? '收入' : '支出')\r\n                    }}>{statType === '支出' ? '收入' : '支出'}</button>\r\n                    <button style={{ marginLeft: 8 }} onClick={() => {\r\n                        setVisible(false)\r\n                    }}>确认</button>\r\n                </div>\r\n            </Modal>\r\n            <Flex style={{ marginTop: 10, marginBottom: 10 }}>\r\n                <Flex.Item>当前收入：{income}</Flex.Item>\r\n                <Flex.Item>当前支出：{expense}</Flex.Item>\r\n                <Flex.Item><button onClick={clickToStatistics}>分类统计</button></Flex.Item>\r\n            </Flex>\r\n            <table style={{\r\n                width: '100%'\r\n            }}>\r\n\r\n                <thead>\r\n                    <tr style={{ display: \"flex\" }}>\r\n                        {columns.map((c: ColumnItem, i: number) => <HeaderCol filter={c.onFilter} handleSort={onSort} handleFilter={onFilter} dataKey={c.dataKey} filters={c.filters} sorter={c.sorter} key={`${c.key}${i}`}>{c.title}</HeaderCol>)}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n\r\n                    {\r\n                        innerData.length > 0 ? innerData.map((v: any, i: number) => {\r\n                            return (<tr key={'row' + i} style={{ display: \"flex\" }}>\r\n                                {columns.map((c: ColumnItem, ii) => <td style={{ flex: 1 }} key={'col' + i + '-' + ii}>{\r\n                                    c.render ? c.render(v[c.dataKey], v) : v[c.dataKey].toString()\r\n                                }</td>)}\r\n                            </tr>)\r\n                        }) : <tr><td>没有数据</td></tr>\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Table;","export const bills: any = [\r\n    [\r\n        \"type\",\r\n        \"time\",\r\n        \"category\",\r\n        \"amount\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1561910400000\",\r\n        \"8s0p77c323\",\r\n        \"5400\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1561910400000\",\r\n        \"0fnhbcle6hg\",\r\n        \"1500\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1563897600000\",\r\n        \"3tqndrjqgrg\",\r\n        \"3900\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1564502400000\",\r\n        \"bsn20th0k2o\",\r\n        \"1900\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1564588800000\",\r\n        \"8s0p77c323\",\r\n        \"5400\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1564588800000\",\r\n        \"0fnhbcle6hg\",\r\n        \"1500\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1564588800000\",\r\n        \"3tqndrjqgrg\",\r\n        \"5000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1566316800000\",\r\n        \"bsn20th0k2o\",\r\n        \"2000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1567267200000\",\r\n        \"8s0p77c323\",\r\n        \"5400\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1567267200000\",\r\n        \"0fnhbcle6hg\",\r\n        \"1500\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1569772800000\",\r\n        \"1bcddudhmh\",\r\n        \"3000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1569772800000\",\r\n        \"bsn20th0k2o\",\r\n        \"1500\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1569772800000\",\r\n        \"3tqndrjqgrg\",\r\n        \"5000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1569859200000\",\r\n        \"0fnhbcle6hg\",\r\n        \"1500\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1572364800000\",\r\n        \"odrjk823mj8\",\r\n        \"3000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1572451200000\",\r\n        \"3tqndrjqgrg\",\r\n        \"4600\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1572451200000\",\r\n        \"3tqndrjqgrg\",\r\n        \"3800\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1572537600000\",\r\n        \"0fnhbcle6hg\",\r\n        \"1500\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1574179200000\",\r\n        \"odrjk823mj8\",\r\n        \"2000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1574870400000\",\r\n        \"1bcddudhmh\",\r\n        \"3000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1574956800000\",\r\n        \"8s0p77c323\",\r\n        \"5400\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1575043200000\",\r\n        \"3tqndrjqgrg\",\r\n        \"5000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1575129600000\",\r\n        \"0fnhbcle6hg\",\r\n        \"1500\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1577289600000\",\r\n        \"3tqndrjqgrg\",\r\n        \"4000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1577345333184\",\r\n        \"odrjk823mj8\",\r\n        \"2000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1577345367638\",\r\n        \"1bcddudhmh\",\r\n        \"3000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1577345378418\",\r\n        \"j1h1nohhmmo\",\r\n        \"800\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1577345504140\",\r\n        \"bsn20th0k2o\",\r\n        \"1000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1577345517217\",\r\n        \"hc5g66kviq\",\r\n        \"2000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1577345576917\",\r\n        \"8s0p77c323\",\r\n        \"5400\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1577345590283\",\r\n        \"1bcddudhmh\",\r\n        \"3000\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1577345789527\",\r\n        \"3tqndrjqgrg\",\r\n        \"3900\"\r\n    ],\r\n    [\r\n        \"0\",\r\n        \"1577548800000\",\r\n        \"8s0p77c323\",\r\n        \"5400\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1561910400000\",\r\n        \"s73ijpispio\",\r\n        \"30000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1564502400000\",\r\n        \"5il79e11628\",\r\n        \"1000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1567094400000\",\r\n        \"1vjj47vpd28\",\r\n        \"-3000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1567180800000\",\r\n        \"s73ijpispio\",\r\n        \"28000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1569772800000\",\r\n        \"s73ijpispio\",\r\n        \"28000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1569772800000\",\r\n        \"1vjj47vpd28\",\r\n        \"2000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1572451200000\",\r\n        \"s73ijpispio\",\r\n        \"20000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1577345267529\",\r\n        \"s73ijpispio\",\r\n        \"30000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1577345303191\",\r\n        \"1vjj47vpd28\",\r\n        \"-10000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1577345317187\",\r\n        \"5il79e11628\",\r\n        \"1000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1577345463930\",\r\n        \"s73ijpispio\",\r\n        \"3000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1577345477581\",\r\n        \"5il79e11628\",\r\n        \"2000\"\r\n    ],\r\n    [\r\n        \"1\",\r\n        \"1577345638784\",\r\n        \"1vjj47vpd28\",\r\n        \"2000\"\r\n    ]\r\n]\r\n\r\nexport const categories:any = [\r\n    [\r\n        \"id\",\r\n        \"type\",\r\n        \"name\"\r\n    ],\r\n    [\r\n        \"1bcddudhmh\",\r\n        \"0\",\r\n        \"车贷\"\r\n    ],\r\n    [\r\n        \"hc5g66kviq\",\r\n        \"0\",\r\n        \"车辆保养\"\r\n    ],\r\n    [\r\n        \"8s0p77c323\",\r\n        \"0\",\r\n        \"房贷\"\r\n    ],\r\n    [\r\n        \"0fnhbcle6hg\",\r\n        \"0\",\r\n        \"房屋租赁\"\r\n    ],\r\n    [\r\n        \"odrjk823mj8\",\r\n        \"0\",\r\n        \"家庭用品\"\r\n    ],\r\n    [\r\n        \"bsn20th0k2o\",\r\n        \"0\",\r\n        \"交通\"\r\n    ],\r\n    [\r\n        \"j1h1nohhmmo\",\r\n        \"0\",\r\n        \"旅游\"\r\n    ],\r\n    [\r\n        \"3tqndrjqgrg\",\r\n        \"0\",\r\n        \"日常饮食\"\r\n    ],\r\n    [\r\n        \"s73ijpispio\",\r\n        \"1\",\r\n        \"工资\"\r\n    ],\r\n    [\r\n        \"1vjj47vpd28\",\r\n        \"1\",\r\n        \"股票投资\"\r\n    ],\r\n    [\r\n        \"5il79e11628\",\r\n        \"1\",\r\n        \"基金投资\"\r\n    ]\r\n]","import { CSSProperties, ReactNode } from \"react\";\r\nimport Flex from \"./Flex\"\r\n\r\nconst SpaceSize = {\r\n    'small': 4,\r\n    'middle': 8,\r\n    'large': 12,\r\n}\r\n\r\nfunction Space(props: {\r\n    size?: 'small' | 'middle' | 'large',\r\n    direction?: 'horizontal' | 'vertical',\r\n    style?: CSSProperties,\r\n    children: React.ReactNode[]\r\n}) {\r\n    const { size = \"middle\", direction = \"horizontal\", style } = props;\r\n    const marginValue = SpaceSize[size];\r\n    return (\r\n        <Flex style={{ ...style, justifyContent: 'space-around' }} direction={direction && direction === 'vertical' ? 'column' : 'row'} >\r\n            {\r\n                props.children.map((v: ReactNode, i: number) => <Flex.Item key={`child-${i}`} style={{ marginRight: marginValue, marginLeft: marginValue }}>\r\n                    {v}\r\n                </Flex.Item>)\r\n            }\r\n        </Flex>\r\n    )\r\n}\r\n\r\nexport default Space","import { PlusOutlined } from \"@ant-design/icons\";\r\nimport React, { useState } from \"react\";\r\nimport Flex from \"../Layout/Flex\";\r\nimport Space from \"../Layout/Space\";\r\nimport Modal from \"./Modal\";\r\n\r\nfunction CategoryManager(props: {\r\n    cateMap: Map<string, any>,\r\n    handleCateMap: (category: Map<string, any>) => void\r\n}) {\r\n\r\n    const { cateMap, handleCateMap } = props\r\n\r\n    const [newCate, setNewCate] = useState({\r\n        ope: 'add',\r\n        id: '',\r\n        type: 0,\r\n        name: '',\r\n    })\r\n\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    function addNewCate() {\r\n        if (newCate.name.length < 1) {\r\n            alert('请输入分类名称')\r\n            return\r\n        }\r\n\r\n        if (newCate.ope === 'add') {\r\n            let randomId = ''\r\n            while (true) {\r\n                randomId = Math.random().toString(32).slice(2);\r\n                if (!cateMap.has(randomId)) break\r\n            }\r\n            cateMap.set(randomId, {\r\n                id: randomId,\r\n                name: newCate.name,\r\n                type: newCate.type\r\n            })\r\n        } else {\r\n            cateMap.set(newCate.id, {\r\n                id: newCate.id,\r\n                name: newCate.name,\r\n                type: newCate.type\r\n            })\r\n        }\r\n        handleCateMap(cateMap)\r\n        setVisible(false)\r\n    }\r\n\r\n\r\n    function deleteCate(id: string) {\r\n        cateMap.delete(id)\r\n        handleCateMap(cateMap)\r\n    }\r\n\r\n    return (\r\n        <div style={{ marginTop: 20 }}>\r\n            <Modal title={newCate.ope === 'add' ? \"新增分类\" : \"修改分类\"} width={400} visible={visible}>\r\n                <Flex style={{ marginTop: 20 }}>\r\n                    <Flex.Item >\r\n                        <label htmlFor=\"ctype\">收支类型：</label>\r\n                        <input type=\"radio\" id=\"0\" name=\"ctype\" value={0} onChange={(e) => {\r\n                            setNewCate({\r\n                                ...newCate,\r\n                                type: parseInt(e.target.value)\r\n                            })\r\n                        }} checked={newCate.type === 0} />\r\n                        <label htmlFor=\"0\">支出</label>\r\n                        <input type=\"radio\" id=\"1\" name=\"ctype\" value={1} onChange={(e) => {\r\n                            setNewCate({\r\n                                ...newCate,\r\n                                type: parseInt(e.target.value)\r\n                            })\r\n                        }} checked={newCate.type === 1} />\r\n                        <label htmlFor=\"1\">收入</label>\r\n                    </Flex.Item>\r\n                </Flex>\r\n                <div style={{ marginTop: 20 }}>\r\n                    <label htmlFor=\"category\">分类名称：</label>\r\n                    <input onChange={(e) => {\r\n                        setNewCate({\r\n                            ...newCate,\r\n                            name: e.target.value\r\n                        })\r\n                    }} name=\"category\" type=\"text\" minLength={1} maxLength={10} value={newCate.name} />\r\n                </div>\r\n                <div style={{ position: 'absolute', bottom: 0, right: 0, margin: 6 }}>\r\n                    <Space>\r\n                        <button onClick={() => {\r\n                            setVisible(false)\r\n                        }}>取消</button>\r\n                        <button onClick={addNewCate}>确认</button>\r\n                    </Space>\r\n                </div>\r\n            </Modal>\r\n            <Flex key='title'>\r\n                <Flex.Item>\r\n                    序号\r\n                </Flex.Item>\r\n                <Flex.Item>\r\n                    收支类型\r\n                </Flex.Item>\r\n                <Flex.Item>\r\n                    分类名称\r\n                </Flex.Item>\r\n                <Flex.Item>\r\n                    操作\r\n                </Flex.Item>\r\n            </Flex>\r\n            {\r\n                Array.from(props.cateMap).map((v, i) =>\r\n                    <Flex style={{ marginTop: 8 }} key={v[0]}>\r\n                        <Flex.Item>\r\n                            {i + 1}\r\n                        </Flex.Item>\r\n                        <Flex.Item>\r\n                            {v[1].type === 0 ? '支出' : '收入'}\r\n                        </Flex.Item>\r\n                        <Flex.Item>\r\n                            {v[1].name}\r\n                        </Flex.Item>\r\n                        <Flex.Item>\r\n                            <button onClick={() => {\r\n                                setNewCate({\r\n                                    id: v[1].id,\r\n                                    type: v[1].type,\r\n                                    name: v[1].name,\r\n                                    ope: 'modify',\r\n                                })\r\n\r\n                                setVisible(true)\r\n                            }}>修改</button>\r\n                            <button onClick={() => {\r\n                                deleteCate(v[0])\r\n                            }} style={{ marginLeft: 5, backgroundColor: 'red', color: 'white', border: 'none' }}>删除</button>\r\n                        </Flex.Item>\r\n                    </Flex>)\r\n            }\r\n\r\n            <Flex style={{ display: 'flex', marginTop: 15 }} key='addBtn'>\r\n                <Flex.Item></Flex.Item>\r\n                <Flex.Item>\r\n                    <button onClick={() => {\r\n                        setVisible(true)\r\n                    }}>新增分类 <PlusOutlined /></button>\r\n                </Flex.Item>\r\n                <Flex.Item></Flex.Item>\r\n            </Flex>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CategoryManager;","\r\nimport React, { createContext, useEffect, useMemo, useState } from 'react';\r\nimport { parse } from 'papaparse'\r\nimport './App.css';\r\nimport { fileExt, formatDate } from './tool';\r\nimport Table from './components/Table';\r\nimport { bills, categories } from './csv/data';\r\nimport Modal from './components/Modal';\r\nimport CategoryManager from './components/CategoryManager';\r\nimport { PlusOutlined } from '@ant-design/icons'\r\nimport Flex from './Layout/Flex';\r\nimport Space from './Layout/Space';\r\n\r\n\r\nexport const CateContext = createContext({})\r\n\r\nexport interface DataItem {\r\n  id: number,\r\n  time: Date,\r\n  type: number,\r\n  category: string,\r\n  amount: number, // float\r\n}\r\n\r\nexport interface CategoryItem {\r\n  id: string,\r\n  name: string,\r\n  type: 0 | 1,\r\n}\r\n\r\nfunction App() {\r\n\r\n  const [bill, setBill] = useState<DataItem[]>([])\r\n\r\n  const [dataSource, setDataSource] = useState<DataItem[]>([])\r\n\r\n  const [cateMap, setCateMap] = useState<Map<string, CategoryItem>>(new Map())\r\n\r\n  const cateFilters = useMemo(() => Array.from(cateMap).map(v => v[1]).map(v => { return { title: v.name, value: v.id } }), [cateMap])\r\n\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const [newItem, setNewItem] = useState({\r\n    ope: 'add',\r\n    time: new Date(),\r\n    type: 0,\r\n    category: '',\r\n    amount: 0,\r\n    id: 0\r\n  })\r\n\r\n\r\n\r\n  function autoLoad() {\r\n    setBill(processData(bills))\r\n    const map = processCategory(categories).reduce((p: Map<string, CategoryItem>, v: CategoryItem) => {\r\n      p.set(v.id, v)\r\n      return p;\r\n    }, new Map())\r\n    setCateMap(map)\r\n  }\r\n\r\n  function processData(data: any[]): DataItem[] {\r\n    if (!data || data.length === 0 || data.length === 1) {\r\n      alert('表格为空')\r\n      return []\r\n    }\r\n    const title: string[] = data[0];\r\n    const d: DataItem[] = []\r\n    for (let index = 1; index < data.length; index++) {\r\n      const element = data[index];\r\n      const temp = title.reduce((p: { [key: string]: any }, v: string, i: number) => {\r\n        if (v === 'time') {\r\n          p[v] = new Date(parseInt(element[i]))\r\n        } else if (v === 'amount') {\r\n          p[v] = parseFloat(element[i])\r\n        } else if (v === 'type') {\r\n          p[v] = parseInt(element[i])\r\n        } else {\r\n          p[v] = element[i]\r\n        }\r\n        return p;\r\n      }, {})\r\n      temp.id = index\r\n      d.push(temp as DataItem)\r\n    }\r\n    return d;\r\n  }\r\n\r\n  function processCategory(data: any[]): CategoryItem[] {\r\n    if (!data || data.length === 0 || data.length === 1) {\r\n      alert('表格为空')\r\n      return []\r\n    }\r\n    const title: string[] = data[0]\r\n    const d: CategoryItem[] = [];\r\n    for (let index = 1; index < data.length; index++) {\r\n      const element = data[index];\r\n      const temp = title.reduce((p: { [key: string]: any }, v: string, i: number) => {\r\n        p[v] = v === 'type' ? parseInt(element[i]) : element[i]\r\n        return p;\r\n      }, {})\r\n\r\n      d.push(temp as CategoryItem)\r\n    }\r\n    return d\r\n  }\r\n\r\n\r\n  function onDataChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    if (fileExt(e.target.value) !== '.csv') {\r\n      e.target.value = ''\r\n      alert('请选择一个正确的csv文件')\r\n      return\r\n    }\r\n\r\n    if (e.target.files?.length === 0) {\r\n      alert('没有文件')\r\n      return\r\n    }\r\n    const file = e.target.files ? e.target.files[0] : null\r\n    if (!file) {\r\n      alert(\"没有文件数据\")\r\n      return\r\n    }\r\n    const reader = new FileReader()\r\n    reader.onerror = (e) => {\r\n      console.error(e.target?.error)\r\n      alert('文档处理出错')\r\n    }\r\n    reader.readAsText(file, 'utf-8')\r\n\r\n    reader.onloadend = (e) => {\r\n      const res = parse(e.target?.result as string);\r\n      if (res.errors && res.errors.length > 0) {\r\n        alert('处理出错')\r\n        return\r\n      }\r\n      setBill(processData(res.data))\r\n    }\r\n\r\n  }\r\n\r\n  function onCategoryChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    if (fileExt(e.target.value) !== '.csv') {\r\n      e.target.value = ''\r\n      alert('请选择一个正确的csv文件')\r\n    }\r\n\r\n    if (e.target.files?.length === 0) {\r\n      alert('没有文件')\r\n      return\r\n    }\r\n\r\n    const file = e.target.files ? e.target.files[0] : null\r\n    if (!file) {\r\n      alert(\"没有文件数据\")\r\n      return\r\n    }\r\n    const reader = new FileReader()\r\n    reader.onerror = (e) => {\r\n      console.error(e.target?.error)\r\n      alert('文档处理出错')\r\n    }\r\n\r\n    reader.readAsText(file, 'utf-8')\r\n    reader.onloadend = (e) => {\r\n      const res = parse(e.target?.result as string);\r\n      if (res.errors && res.errors.length > 0) {\r\n        alert('处理出错')\r\n        return\r\n      }\r\n      const map = processCategory(res.data)?.reduce((p: Map<string, CategoryItem>, v: CategoryItem) => {\r\n        p.set(v.id, v)\r\n        return p;\r\n      }, new Map())\r\n\r\n      setCateMap(map)\r\n\r\n    }\r\n\r\n  }\r\n\r\n  function addNewItem() {\r\n\r\n    if (newItem.category === '') {\r\n      alert('请选择分类')\r\n      return\r\n    }\r\n    if (newItem.amount === 0) {\r\n      alert('请输入账单金额')\r\n      return\r\n    }\r\n\r\n    if (newItem.ope === 'add') {\r\n      newItem.id = dataSource.length + 1;\r\n\r\n      setDataSource([...dataSource, {\r\n        id: dataSource.length + 1,\r\n        amount: newItem.amount,\r\n        category: newItem.category,\r\n        time: newItem.time,\r\n        type: newItem.type\r\n      }])\r\n    } else {\r\n      for (let i = 0; i < dataSource.length; i++) {\r\n        if (dataSource[i].id === newItem.id) {\r\n          dataSource[i] = {\r\n            id: dataSource.length + 1,\r\n            amount: newItem.amount,\r\n            category: newItem.category,\r\n            time: newItem.time,\r\n            type: newItem.type\r\n          }\r\n        }\r\n      }\r\n      setDataSource([...dataSource])\r\n    }\r\n\r\n    setVisible(false)\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if (bill.length > 0 && cateMap.size > 0) {\r\n      setDataSource(bill)\r\n    }\r\n  }, [bill, cateMap])\r\n\r\n  const columns = [\r\n    {\r\n      dataKey: 'time',\r\n      key: 'time',\r\n      title: '账单时间',\r\n      sorter: (a: any, b: any) => a.time.getTime() - b.time.getTime(),\r\n      onFilter: (values: any[], record: DataItem) => values.includes(record.time.getMonth()),\r\n      filters: [\r\n        { value: 0, title: '一月' },\r\n        { value: 1, title: '二月' },\r\n        { value: 2, title: '三月' },\r\n        { value: 3, title: '四月' },\r\n        { value: 4, title: '五月' },\r\n        { value: 5, title: '六月' },\r\n        { value: 6, title: '七月' },\r\n        { value: 7, title: '八月' },\r\n        { value: 8, title: '九月' },\r\n        { value: 9, title: '十月' },\r\n        { value: 10, title: '十一月' },\r\n        { value: 11, title: '十二月' },\r\n      ],\r\n      render: (v: Date) => {\r\n        return (<span>{v.toLocaleDateString()}</span>)\r\n      }\r\n    },\r\n    {\r\n      dataKey: 'type',\r\n      key: 'type',\r\n      title: '账单类型',\r\n      onFilter: (values: any[], record: DataItem) => values.includes(record.type),\r\n      filters: [{ value: 0, title: '支出' }, { value: 1, title: '收入' }],\r\n      render: (v: any) => {\r\n        return v === 0 ? (<span>支出</span>) : (<span>收入</span>)\r\n      }\r\n    },\r\n    {\r\n      dataKey: 'category',\r\n      filters: cateFilters,\r\n      key: 'category',\r\n      title: '账单分类',\r\n      render: (v: any) => {\r\n        return <span>{cateMap?.get(v)?.name ?? '未分类'}</span>\r\n      },\r\n      onFilter: (values: any[], record: DataItem) => values.includes(record.category),\r\n    },\r\n    {\r\n      dataKey: 'amount',\r\n      sorter: (a: any, b: any) => a.amount - b.amount,\r\n      key: 'amount',\r\n      title: '账单金额',\r\n    },\r\n    {\r\n      title: '操作',\r\n      dataKey: 'operation',\r\n      key: 'operation',\r\n      render: (v: any, record: any) => <div>\r\n        <button onClick={() => {\r\n          setNewItem({\r\n            ...record,\r\n            ope: 'modify',\r\n          })\r\n          setVisible(true);\r\n        }}>修改</button>\r\n        <button onClick={() => {\r\n          setDataSource(dataSource.filter((v) => v.id !== record.id))\r\n        }} style={{ marginLeft: 5, backgroundColor: 'red', color: 'white', border: 'none' }}>删除</button>\r\n      </div>\r\n    }\r\n  ]\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div>\r\n        <h2>简易记账本</h2>\r\n      </div>\r\n      <Flex style={{\r\n        marginTop: 50\r\n      }}>\r\n        <Flex.Item>\r\n          请选择账单文件：<input onClick={(e: any) => { e.target.value = null }} onChange={onDataChange} type=\"file\" placeholder=\"请选择账单数据\" accept=\".csv\" />\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          请选择分类文件： <input onChange={onCategoryChange} type=\"file\" onClick={(e: any) => { e.target.value = null }} placeholder=\"请选择分类数据\" accept=\".csv\" />\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <button onClick={autoLoad}>一键加载数据</button>\r\n          <button style={{ marginLeft: 6 }} onClick={() => {\r\n            setNewItem({\r\n              id: 0,\r\n              type: 0,\r\n              time: new Date(),\r\n              category: '',\r\n              amount: 0,\r\n              ope: 'add'\r\n            })\r\n            setVisible(true)\r\n          }}>新增账单 <PlusOutlined /></button>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <Modal width={500} title={newItem.ope === 'add' ? \"新增账单\" : \"修改账单\"} visible={visible}>\r\n        <div>\r\n          <Flex style={{ marginTop: 20 }}>\r\n            <Flex.Item>\r\n              <label htmlFor=\"type\">账单类型：</label>\r\n              <input disabled type=\"radio\" id=\"0\" name=\"type\" value={0} onChange={(e) => {\r\n                setNewItem({\r\n                  ...newItem,\r\n                  type: parseInt(e.target.value)\r\n                })\r\n              }} checked={newItem.type === 0} />\r\n              <label htmlFor=\"0\">支出</label>\r\n              <input disabled type=\"radio\" id=\"1\" name=\"type\" value={1} onChange={(e) => {\r\n                setNewItem({\r\n                  ...newItem,\r\n                  type: parseInt(e.target.value)\r\n                })\r\n              }} checked={newItem.type === 1} />\r\n              <label htmlFor=\"1\">收入</label>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <label htmlFor=\"category\">账单分类：</label>\r\n              <select value={newItem.category} onChange={(e) => {\r\n                setNewItem({\r\n                  ...newItem,\r\n                  type: cateMap.get(e.target.value)?.type || 0,\r\n                  category: e.target.value\r\n                })\r\n              }} id=\"category\" name=\"category\" placeholder=\"请选择账单类型\">\r\n                <option value=\"\">请选择账单类型</option>\r\n                {\r\n                  cateFilters.map((v: any) => <option key={v.value} value={v.value}>{v.title}</option>)\r\n                }\r\n              </select>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <Flex style={{ marginTop: 20 }}>\r\n            <Flex.Item>\r\n              <label htmlFor=\"time\">账单日期：</label>\r\n              <input id=\"time\" style={{ width: 140 }} value={formatDate(newItem.time)} onChange={(e) => {\r\n                const d = new Date(e.target.value)\r\n                d.setHours(12)\r\n                setNewItem({\r\n                  ...newItem,\r\n                  time: d\r\n                })\r\n              }} type=\"date\" />\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <label htmlFor=\"amount\">账单金额：</label>\r\n              <input style={{ width: 140 }} onChange={(e) => {\r\n                setNewItem({\r\n                  ...newItem,\r\n                  amount: parseFloat(e.target.value),\r\n                })\r\n              }} value={newItem.amount} id=\"amount\" type=\"number\" />\r\n            </Flex.Item>\r\n          </Flex>\r\n        </div>\r\n        <div style={{ position: 'absolute', bottom: 0, right: 0, margin: 6 }}>\r\n          <Space>\r\n            <button onClick={() => {\r\n              setVisible(false)\r\n            }}>取消</button>\r\n            <button onClick={addNewItem}>确认</button>\r\n          </Space>\r\n        </div>\r\n      </Modal>\r\n\r\n      <Flex>\r\n        <Flex.Item occupy={2} style={{\r\n          marginTop: 10,\r\n          marginLeft: 100,\r\n          marginBottom: 50,\r\n          marginRight: 30,\r\n          height: '75vh',\r\n          overflowY: 'scroll',\r\n        }}>\r\n          <Table\r\n            cateMap={cateMap}\r\n            dataSource={dataSource}\r\n            columns={columns} />\r\n        </Flex.Item>\r\n        <Flex.Item occupy={1} style={{ marginRight: 100, }}>\r\n          <CategoryManager handleCateMap={(map: Map<string, any>) => {\r\n            setCateMap(new Map(map))\r\n          }} cateMap={cateMap} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}