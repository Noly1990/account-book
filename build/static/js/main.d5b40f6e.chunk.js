(this["webpackJsonpaccount-book"]=this["webpackJsonpaccount-book"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),r=n(11),l=n.n(r),a=(n(17),n(3)),o=n(6),s=n(2),d=n(10);n(18);function j(e){return e.substr(e.lastIndexOf("."))}function u(e){var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return"".concat(t,"-").concat(n<=9?"0"+n:n,"-").concat(i<=9?"0"+i:i)}var b=n(0);function h(e){return Object(b.jsx)("div",{style:Object(a.a)({display:"flex",flexDirection:e.direction},e.style),children:e.children})}h.Item=function(e){return Object(b.jsx)("div",{style:Object(a.a)({flex:e.occupy||1},e.style),children:e.children})};var O=h,p=n(24);var f=function(e){var t=Object(i.useState)(e.checked||!1),n=Object(s.a)(t,2),c=n[0],r=n[1],l=e.size,a=void 0===l?16:l;return Object(b.jsxs)("div",{style:{padding:4},children:[Object(b.jsx)("input",{style:{width:a,height:a},onChange:e.onChange?function(t){e.onChange&&e.onChange(e.value,t.target.checked),r(t.target.checked)}:function(e){r(!c)},checked:e.checked||c,type:"checkbox",id:e.title,value:e.value}),Object(b.jsx)("label",{style:{fontSize:a},htmlFor:e.title,children:e.title})]})};var v=function(e){var t=Object(i.useState)(e.value||e.defaultValue||[]),n=Object(s.a)(t,2),c=n[0],r=n[1];function l(t,n){var i=c.includes(t),l=n&&!i?c.concat([t]):c.filter((function(e){return e!==t}));r(l),e.onChange&&e.onChange(l)}return Object(b.jsx)("div",{children:e.children&&e.children.map((function(e){return Object(i.cloneElement)(e,{key:e.props.value,checked:c.indexOf(e.props.value)>-1,onChange:l})}))})};var m=function(e){var t=c.a.Children.only(e.children),n=Object(i.cloneElement)(t,{disabled:e.disabled});function r(){return Object(b.jsx)("div",{onClick:function(t){e.handleVisible(!e.visible),t.stopPropagation()},style:{display:"inline-block"},children:n})}function l(){return Object(b.jsx)("div",{style:{display:"block",position:"absolute",right:0,backgroundColor:"white",top:28,border:"1px solid black"},children:e.content})}return Object(b.jsxs)("div",{style:{display:"inline-block",position:"relative"},children:[e.visible&&Object(b.jsx)(l,{}),Object(b.jsx)(r,{})]})},g=n(22),x=n(23);var y=function(e){return Object(b.jsx)("div",{style:{display:"inline-block",position:"relative",top:-4,left:-5},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(b.jsx)(g.a,{style:{flex:1,color:"up"===e.status?"#1890ff":"black"}}),Object(b.jsx)(x.a,{style:{flex:1,color:"down"===e.status?"#1890ff":"black"}})]})})};var k=function(e){var t=Object(i.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],l=Object(i.useState)("none"),a=Object(s.a)(l,2),o=a[0],d=a[1],j=Object(i.useState)([]),u=Object(s.a)(j,2),h=u[0],O=u[1];return Object(b.jsxs)("th",{style:{flex:1,cursor:"pointer",userSelect:"none"},children:[Object(b.jsxs)("span",{onClick:function(){if(e.sorter){var t="none"===o?"up":"up"===o?"down":"none";d(t),e.handleSort(e.dataKey,e.sorter,t)}},style:{marginLeft:6,position:"relative",top:5},children:[!e.sorter||Object(b.jsx)(y,{status:o}),Object(b.jsx)("span",{children:e.children})]}),!e.filters||Object(b.jsx)(m,{handleVisible:function(){r(!c)},visible:c,content:Object(b.jsxs)("div",{style:{width:100,textAlign:"left",padding:5},children:[Object(b.jsx)(v,{onChange:function(e){O(e)},value:h,children:e.filters&&e.filters.length>0?e.filters.map((function(e){return Object(b.jsx)(f,{title:e.title,value:e.value},e.value)})):null}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){r(!1)},style:{margin:3},children:"\u53d6\u6d88"}),Object(b.jsx)("button",{onClick:function(){r(!1),e.handleFilter(e.dataKey,e.filter,h)},style:{margin:3},children:"\u786e\u8ba4"})]})]}),children:Object(b.jsx)(p.a,{onClick:function(){r(!0)},style:{display:"inline-block",marginLeft:3,height:30,width:30,position:"relative",top:5}})})]})};var C=function(e){var t=Object(i.useState)(e.visible),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(i.useEffect)((function(){r(e.visible)}),[e.visible]),Object(b.jsxs)("div",{style:{width:e.width||300,minHeight:200,display:c?"block":"none",position:"fixed",top:"35%",left:"50%",border:"1px solid #999",transform:"translateX(-50%)",backgroundColor:"white",zIndex:99},children:[Object(b.jsx)("div",{style:{marginTop:10},children:e.title}),e.children]})};var I=function(e){var t=e.columns,n=e.dataSource,c=e.cateMap;Object(i.useEffect)((function(){d(n)}),[n]);var r=Object(i.useState)(n||[]),l=Object(s.a)(r,2),a=l[0],d=l[1],j=Object(i.useState)({}),u=Object(s.a)(j,2),h=u[0],p=u[1];function f(e,t,i){h[e]={filter:t,values:i},0===i.length&&delete h[e],p(h);var c=n,r=function(e){c=c.filter((function(t){return h[e].filter(h[e].values,t)}))};for(var l in h)r(l);d(c)}function v(e,t,n){var i="none"===n?a:Object(o.a)(a).sort(t);"down"===n&&i.reverse(),d(i)}var m=Object(i.useState)(0),g=Object(s.a)(m,2),x=g[0],y=g[1],I=Object(i.useState)(0),w=Object(s.a)(I,2),S=w[0],F=w[1],q=Object(i.useState)([]),T=Object(s.a)(q,2),M=T[0],L=T[1],K=Object(i.useState)("\u652f\u51fa"),D=Object(s.a)(K,2),E=D[0],z=D[1],A=Object(i.useState)(!1),B=Object(s.a)(A,2),R=B[0],P=B[1];return Object(i.useEffect)((function(){var e=0,t=0;a.forEach((function(n){e+=1===n.type?n.amount:0,t+=0===n.type?n.amount:0})),y(e),F(t)}),[a]),Object(b.jsxs)("div",{children:[Object(b.jsxs)(C,{title:"\u7edf\u8ba1\u5206\u6790",visible:R,children:[Object(b.jsxs)("div",{style:{marginBottom:40},children:[Object(b.jsxs)(O,{children:[Object(b.jsx)(O.Item,{children:"\u5206\u7c7b"}),Object(b.jsx)(O.Item,{children:"\u6536\u652f\u7c7b\u578b"}),Object(b.jsx)(O.Item,{children:"\u91d1\u989d"})]}),M.length>0?M.filter((function(e){return e.type===E})).map((function(e){return Object(b.jsxs)(O,{style:{marginTop:6},children:[Object(b.jsx)(O.Item,{children:e.category}),Object(b.jsx)(O.Item,{children:e.type}),Object(b.jsx)(O.Item,{children:e.amount})]},e.id)})):Object(b.jsx)("div",{children:"\u65e0\u6570\u636e"})]}),Object(b.jsxs)("div",{style:{position:"absolute",bottom:0,right:0,margin:8},children:[Object(b.jsx)("button",{onClick:function(){z("\u652f\u51fa"===E?"\u6536\u5165":"\u652f\u51fa")},children:"\u652f\u51fa"===E?"\u6536\u5165":"\u652f\u51fa"}),Object(b.jsx)("button",{style:{marginLeft:8},onClick:function(){P(!1)},children:"\u786e\u8ba4"})]})]}),Object(b.jsxs)(O,{style:{marginTop:10,marginBottom:10},children:[Object(b.jsxs)(O.Item,{children:["\u5f53\u524d\u6536\u5165\uff1a",x]}),Object(b.jsxs)(O.Item,{children:["\u5f53\u524d\u652f\u51fa\uff1a",S]}),Object(b.jsx)(O.Item,{children:Object(b.jsx)("button",{onClick:function(){var e={};a.forEach((function(t){void 0===e[t.category]?e[t.category]=t.amount:e[t.category]+=t.amount}));var t=[];for(var n in e){var i,r;t.push({id:n,category:(null===(i=c.get(n))||void 0===i?void 0:i.name)||"\u672a\u5b9a\u4e49",type:0===(null===(r=c.get(n))||void 0===r?void 0:r.type)?"\u652f\u51fa":"\u6536\u5165",amount:e[n]})}t.sort((function(e,t){return t.amount-e.amount})),L(t),P(!0)},children:"\u5206\u7c7b\u7edf\u8ba1"})})]}),Object(b.jsxs)("table",{style:{width:"100%"},children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{style:{display:"flex"},children:t.map((function(e,t){return Object(b.jsx)(k,{filter:e.onFilter,handleSort:v,handleFilter:f,dataKey:e.dataKey,filters:e.filters,sorter:e.sorter,children:e.title},"".concat(e.key).concat(t))}))})}),Object(b.jsx)("tbody",{children:a.length>0?a.map((function(e,n){return Object(b.jsx)("tr",{style:{display:"flex"},children:t.map((function(t,i){return Object(b.jsx)("td",{style:{flex:1},children:t.render?t.render(e[t.dataKey],e):e[t.dataKey].toString()},"col"+n+"-"+i)}))},"row"+n)})):Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:"\u6ca1\u6709\u6570\u636e"})})})]})]})},w=[["type","time","category","amount"],["0","1561910400000","8s0p77c323","5400"],["0","1561910400000","0fnhbcle6hg","1500"],["0","1563897600000","3tqndrjqgrg","3900"],["0","1564502400000","bsn20th0k2o","1900"],["0","1564588800000","8s0p77c323","5400"],["0","1564588800000","0fnhbcle6hg","1500"],["0","1564588800000","3tqndrjqgrg","5000"],["0","1566316800000","bsn20th0k2o","2000"],["0","1567267200000","8s0p77c323","5400"],["0","1567267200000","0fnhbcle6hg","1500"],["0","1569772800000","1bcddudhmh","3000"],["0","1569772800000","bsn20th0k2o","1500"],["0","1569772800000","3tqndrjqgrg","5000"],["0","1569859200000","0fnhbcle6hg","1500"],["0","1572364800000","odrjk823mj8","3000"],["0","1572451200000","3tqndrjqgrg","4600"],["0","1572451200000","3tqndrjqgrg","3800"],["0","1572537600000","0fnhbcle6hg","1500"],["0","1574179200000","odrjk823mj8","2000"],["0","1574870400000","1bcddudhmh","3000"],["0","1574956800000","8s0p77c323","5400"],["0","1575043200000","3tqndrjqgrg","5000"],["0","1575129600000","0fnhbcle6hg","1500"],["0","1577289600000","3tqndrjqgrg","4000"],["0","1577345333184","odrjk823mj8","2000"],["0","1577345367638","1bcddudhmh","3000"],["0","1577345378418","j1h1nohhmmo","800"],["0","1577345504140","bsn20th0k2o","1000"],["0","1577345517217","hc5g66kviq","2000"],["0","1577345576917","8s0p77c323","5400"],["0","1577345590283","1bcddudhmh","3000"],["0","1577345789527","3tqndrjqgrg","3900"],["0","1577548800000","8s0p77c323","5400"],["1","1561910400000","s73ijpispio","30000"],["1","1564502400000","5il79e11628","1000"],["1","1567094400000","1vjj47vpd28","-3000"],["1","1567180800000","s73ijpispio","28000"],["1","1569772800000","s73ijpispio","28000"],["1","1569772800000","1vjj47vpd28","2000"],["1","1572451200000","s73ijpispio","20000"],["1","1577345267529","s73ijpispio","30000"],["1","1577345303191","1vjj47vpd28","-10000"],["1","1577345317187","5il79e11628","1000"],["1","1577345463930","s73ijpispio","3000"],["1","1577345477581","5il79e11628","2000"],["1","1577345638784","1vjj47vpd28","2000"]],S=[["id","type","name"],["1bcddudhmh","0","\u8f66\u8d37"],["hc5g66kviq","0","\u8f66\u8f86\u4fdd\u517b"],["8s0p77c323","0","\u623f\u8d37"],["0fnhbcle6hg","0","\u623f\u5c4b\u79df\u8d41"],["odrjk823mj8","0","\u5bb6\u5ead\u7528\u54c1"],["bsn20th0k2o","0","\u4ea4\u901a"],["j1h1nohhmmo","0","\u65c5\u6e38"],["3tqndrjqgrg","0","\u65e5\u5e38\u996e\u98df"],["s73ijpispio","1","\u5de5\u8d44"],["1vjj47vpd28","1","\u80a1\u7968\u6295\u8d44"],["5il79e11628","1","\u57fa\u91d1\u6295\u8d44"]],F=n(25),q={small:4,middle:8,large:12};var T=function(e){var t=e.size,n=void 0===t?"middle":t,i=e.direction,c=void 0===i?"horizontal":i,r=e.style,l=q[n];return Object(b.jsx)(O,{style:Object(a.a)(Object(a.a)({},r),{},{justifyContent:"space-around"}),direction:c&&"vertical"===c?"column":"row",children:e.children.map((function(e,t){return Object(b.jsx)(O.Item,{style:{marginRight:l,marginLeft:l},children:e},"child-".concat(t))}))})};var M=function(e){var t=e.cateMap,n=e.handleCateMap,c=Object(i.useState)({ope:"add",id:"",type:0,name:""}),r=Object(s.a)(c,2),l=r[0],o=r[1],d=Object(i.useState)(!1),j=Object(s.a)(d,2),u=j[0],h=j[1];return Object(b.jsxs)("div",{style:{marginTop:20},children:[Object(b.jsxs)(C,{title:"add"===l.ope?"\u65b0\u589e\u5206\u7c7b":"\u4fee\u6539\u5206\u7c7b",width:400,visible:u,children:[Object(b.jsx)(O,{style:{marginTop:20},children:Object(b.jsxs)(O.Item,{children:[Object(b.jsx)("label",{htmlFor:"ctype",children:"\u6536\u652f\u7c7b\u578b\uff1a"}),Object(b.jsx)("input",{type:"radio",id:"0",name:"ctype",value:0,onChange:function(e){o(Object(a.a)(Object(a.a)({},l),{},{type:parseInt(e.target.value)}))},checked:0===l.type}),Object(b.jsx)("label",{htmlFor:"0",children:"\u652f\u51fa"}),Object(b.jsx)("input",{type:"radio",id:"1",name:"ctype",value:1,onChange:function(e){o(Object(a.a)(Object(a.a)({},l),{},{type:parseInt(e.target.value)}))},checked:1===l.type}),Object(b.jsx)("label",{htmlFor:"1",children:"\u6536\u5165"})]})}),Object(b.jsxs)("div",{style:{marginTop:20},children:[Object(b.jsx)("label",{htmlFor:"category",children:"\u5206\u7c7b\u540d\u79f0\uff1a"}),Object(b.jsx)("input",{onChange:function(e){o(Object(a.a)(Object(a.a)({},l),{},{name:e.target.value}))},name:"category",type:"text",minLength:1,maxLength:10,value:l.name})]}),Object(b.jsx)("div",{style:{position:"absolute",bottom:0,right:0,margin:6},children:Object(b.jsxs)(T,{children:[Object(b.jsx)("button",{onClick:function(){h(!1)},children:"\u53d6\u6d88"}),Object(b.jsx)("button",{onClick:function(){if(l.name.length<1)alert("\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0");else{if("add"===l.ope){for(var e="";e=Math.random().toString(32).slice(2),t.has(e););t.set(e,{id:e,name:l.name,type:l.type})}else t.set(l.id,{id:l.id,name:l.name,type:l.type});n(t),h(!1)}},children:"\u786e\u8ba4"})]})})]}),Object(b.jsxs)(O,{children:[Object(b.jsx)(O.Item,{children:"\u5e8f\u53f7"}),Object(b.jsx)(O.Item,{children:"\u6536\u652f\u7c7b\u578b"}),Object(b.jsx)(O.Item,{children:"\u5206\u7c7b\u540d\u79f0"}),Object(b.jsx)(O.Item,{children:"\u64cd\u4f5c"})]},"title"),Array.from(e.cateMap).map((function(e,i){return Object(b.jsxs)(O,{style:{marginTop:8},children:[Object(b.jsx)(O.Item,{children:i+1}),Object(b.jsx)(O.Item,{children:0===e[1].type?"\u652f\u51fa":"\u6536\u5165"}),Object(b.jsx)(O.Item,{children:e[1].name}),Object(b.jsxs)(O.Item,{children:[Object(b.jsx)("button",{onClick:function(){o({id:e[1].id,type:e[1].type,name:e[1].name,ope:"modify"}),h(!0)},children:"\u4fee\u6539"}),Object(b.jsx)("button",{onClick:function(){var i;i=e[0],t.delete(i),n(t)},style:{marginLeft:5,backgroundColor:"red",color:"white",border:"none"},children:"\u5220\u9664"})]})]},e[0])})),Object(b.jsxs)(O,{style:{display:"flex",marginTop:15},children:[Object(b.jsx)(O.Item,{}),Object(b.jsx)(O.Item,{children:Object(b.jsxs)("button",{onClick:function(){h(!0)},children:["\u65b0\u589e\u5206\u7c7b ",Object(b.jsx)(F.a,{})]})}),Object(b.jsx)(O.Item,{})]},"addBtn")]})};var L=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)([]),l=Object(s.a)(r,2),h=l[0],p=l[1],f=Object(i.useState)(new Map),v=Object(s.a)(f,2),m=v[0],g=v[1],x=Object(i.useMemo)((function(){return Array.from(m).map((function(e){return e[1]})).map((function(e){return{title:e.name,value:e.id}}))}),[m]),y=Object(i.useState)(!1),k=Object(s.a)(y,2),q=k[0],L=k[1],K=Object(i.useState)({ope:"add",time:new Date,type:0,category:"",amount:0,id:0}),D=Object(s.a)(K,2),E=D[0],z=D[1];function A(e){if(!e||0===e.length||1===e.length)return alert("\u8868\u683c\u4e3a\u7a7a"),[];for(var t=e[0],n=[],i=function(i){var c=e[i],r=t.reduce((function(e,t,n){return e[t]="time"===t?new Date(parseInt(c[n])):"amount"===t?parseFloat(c[n]):"type"===t?parseInt(c[n]):c[n],e}),{});r.id=i,n.push(r)},c=1;c<e.length;c++)i(c);return n}function B(e){if(!e||0===e.length||1===e.length)return alert("\u8868\u683c\u4e3a\u7a7a"),[];for(var t=e[0],n=[],i=function(i){var c=e[i],r=t.reduce((function(e,t,n){return e[t]="type"===t?parseInt(c[n]):c[n],e}),{});n.push(r)},c=1;c<e.length;c++)i(c);return n}Object(i.useEffect)((function(){n.length>0&&m.size>0&&p(n)}),[n,m]);var R=[{dataKey:"time",key:"time",title:"\u8d26\u5355\u65f6\u95f4",sorter:function(e,t){return e.time.getTime()-t.time.getTime()},onFilter:function(e,t){return e.includes(t.time.getMonth())},filters:[{value:0,title:"\u4e00\u6708"},{value:1,title:"\u4e8c\u6708"},{value:2,title:"\u4e09\u6708"},{value:3,title:"\u56db\u6708"},{value:4,title:"\u4e94\u6708"},{value:5,title:"\u516d\u6708"},{value:6,title:"\u4e03\u6708"},{value:7,title:"\u516b\u6708"},{value:8,title:"\u4e5d\u6708"},{value:9,title:"\u5341\u6708"},{value:10,title:"\u5341\u4e00\u6708"},{value:11,title:"\u5341\u4e8c\u6708"}],render:function(e){return Object(b.jsx)("span",{children:e.toLocaleDateString()})}},{dataKey:"type",key:"type",title:"\u8d26\u5355\u7c7b\u578b",onFilter:function(e,t){return e.includes(t.type)},filters:[{value:0,title:"\u652f\u51fa"},{value:1,title:"\u6536\u5165"}],render:function(e){return 0===e?Object(b.jsx)("span",{children:"\u652f\u51fa"}):Object(b.jsx)("span",{children:"\u6536\u5165"})}},{dataKey:"category",filters:x,key:"category",title:"\u8d26\u5355\u5206\u7c7b",render:function(e){var t,n;return Object(b.jsx)("span",{children:null!==(t=null===m||void 0===m||null===(n=m.get(e))||void 0===n?void 0:n.name)&&void 0!==t?t:"\u672a\u5206\u7c7b"})},onFilter:function(e,t){return e.includes(t.category)}},{dataKey:"amount",sorter:function(e,t){return e.amount-t.amount},key:"amount",title:"\u8d26\u5355\u91d1\u989d"},{title:"\u64cd\u4f5c",dataKey:"operation",key:"operation",render:function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){z(Object(a.a)(Object(a.a)({},t),{},{ope:"modify"})),L(!0)},children:"\u4fee\u6539"}),Object(b.jsx)("button",{onClick:function(){p(h.filter((function(e){return e.id!==t.id})))},style:{marginLeft:5,backgroundColor:"red",color:"white",border:"none"},children:"\u5220\u9664"})]})}}];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{children:Object(b.jsx)("h2",{children:"\u7b80\u6613\u8bb0\u8d26\u672c"})}),Object(b.jsxs)(O,{style:{marginTop:50},children:[Object(b.jsxs)(O.Item,{children:["\u8bf7\u9009\u62e9\u8d26\u5355\u6587\u4ef6\uff1a",Object(b.jsx)("input",{onClick:function(e){e.target.value=null},onChange:function(e){var t;if(".csv"!==j(e.target.value))return e.target.value="",void alert("\u8bf7\u9009\u62e9\u4e00\u4e2a\u6b63\u786e\u7684csv\u6587\u4ef6");if(0!==(null===(t=e.target.files)||void 0===t?void 0:t.length)){var n=e.target.files?e.target.files[0]:null;if(n){var i=new FileReader;i.onerror=function(e){var t;console.error(null===(t=e.target)||void 0===t?void 0:t.error),alert("\u6587\u6863\u5904\u7406\u51fa\u9519")},i.readAsText(n,"utf-8"),i.onloadend=function(e){var t,n=Object(d.parse)(null===(t=e.target)||void 0===t?void 0:t.result);n.errors&&n.errors.length>0?alert("\u5904\u7406\u51fa\u9519"):c(A(n.data))}}else alert("\u6ca1\u6709\u6587\u4ef6\u6570\u636e")}else alert("\u6ca1\u6709\u6587\u4ef6")},type:"file",placeholder:"\u8bf7\u9009\u62e9\u8d26\u5355\u6570\u636e",accept:".csv"})]}),Object(b.jsxs)(O.Item,{children:["\u8bf7\u9009\u62e9\u5206\u7c7b\u6587\u4ef6\uff1a ",Object(b.jsx)("input",{onChange:function(e){var t;if(".csv"!==j(e.target.value)&&(e.target.value="",alert("\u8bf7\u9009\u62e9\u4e00\u4e2a\u6b63\u786e\u7684csv\u6587\u4ef6")),0!==(null===(t=e.target.files)||void 0===t?void 0:t.length)){var n=e.target.files?e.target.files[0]:null;if(n){var i=new FileReader;i.onerror=function(e){var t;console.error(null===(t=e.target)||void 0===t?void 0:t.error),alert("\u6587\u6863\u5904\u7406\u51fa\u9519")},i.readAsText(n,"utf-8"),i.onloadend=function(e){var t,n,i=Object(d.parse)(null===(t=e.target)||void 0===t?void 0:t.result);if(i.errors&&i.errors.length>0)alert("\u5904\u7406\u51fa\u9519");else{var c=null===(n=B(i.data))||void 0===n?void 0:n.reduce((function(e,t){return e.set(t.id,t),e}),new Map);g(c)}}}else alert("\u6ca1\u6709\u6587\u4ef6\u6570\u636e")}else alert("\u6ca1\u6709\u6587\u4ef6")},type:"file",onClick:function(e){e.target.value=null},placeholder:"\u8bf7\u9009\u62e9\u5206\u7c7b\u6570\u636e",accept:".csv"})]}),Object(b.jsxs)(O.Item,{children:[Object(b.jsx)("button",{onClick:function(){c(A(w));var e=B(S).reduce((function(e,t){return e.set(t.id,t),e}),new Map);g(e)},children:"\u4e00\u952e\u52a0\u8f7d\u6570\u636e"}),Object(b.jsxs)("button",{style:{marginLeft:6},onClick:function(){z({id:0,type:0,time:new Date,category:"",amount:0,ope:"add"}),L(!0)},children:["\u65b0\u589e\u8d26\u5355 ",Object(b.jsx)(F.a,{})]})]})]}),Object(b.jsxs)(C,{width:500,title:"add"===E.ope?"\u65b0\u589e\u8d26\u5355":"\u4fee\u6539\u8d26\u5355",visible:q,children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)(O,{style:{marginTop:20},children:[Object(b.jsxs)(O.Item,{children:[Object(b.jsx)("label",{htmlFor:"type",children:"\u8d26\u5355\u7c7b\u578b\uff1a"}),Object(b.jsx)("input",{disabled:!0,type:"radio",id:"0",name:"type",value:0,onChange:function(e){z(Object(a.a)(Object(a.a)({},E),{},{type:parseInt(e.target.value)}))},checked:0===E.type}),Object(b.jsx)("label",{htmlFor:"0",children:"\u652f\u51fa"}),Object(b.jsx)("input",{disabled:!0,type:"radio",id:"1",name:"type",value:1,onChange:function(e){z(Object(a.a)(Object(a.a)({},E),{},{type:parseInt(e.target.value)}))},checked:1===E.type}),Object(b.jsx)("label",{htmlFor:"1",children:"\u6536\u5165"})]}),Object(b.jsxs)(O.Item,{children:[Object(b.jsx)("label",{htmlFor:"category",children:"\u8d26\u5355\u5206\u7c7b\uff1a"}),Object(b.jsxs)("select",{value:E.category,onChange:function(e){var t;z(Object(a.a)(Object(a.a)({},E),{},{type:(null===(t=m.get(e.target.value))||void 0===t?void 0:t.type)||0,category:e.target.value}))},id:"category",name:"category",placeholder:"\u8bf7\u9009\u62e9\u8d26\u5355\u7c7b\u578b",children:[Object(b.jsx)("option",{value:"",children:"\u8bf7\u9009\u62e9\u8d26\u5355\u7c7b\u578b"}),x.map((function(e){return Object(b.jsx)("option",{value:e.value,children:e.title},e.value)}))]})]})]}),Object(b.jsxs)(O,{style:{marginTop:20},children:[Object(b.jsxs)(O.Item,{children:[Object(b.jsx)("label",{htmlFor:"time",children:"\u8d26\u5355\u65e5\u671f\uff1a"}),Object(b.jsx)("input",{id:"time",style:{width:140},value:u(E.time),onChange:function(e){var t=new Date(e.target.value);t.setHours(12),z(Object(a.a)(Object(a.a)({},E),{},{time:t}))},type:"date"})]}),Object(b.jsxs)(O.Item,{children:[Object(b.jsx)("label",{htmlFor:"amount",children:"\u8d26\u5355\u91d1\u989d\uff1a"}),Object(b.jsx)("input",{style:{width:140},onChange:function(e){z(Object(a.a)(Object(a.a)({},E),{},{amount:parseFloat(e.target.value)}))},value:E.amount,id:"amount",type:"number"})]})]})]}),Object(b.jsx)("div",{style:{position:"absolute",bottom:0,right:0,margin:6},children:Object(b.jsxs)(T,{children:[Object(b.jsx)("button",{onClick:function(){L(!1)},children:"\u53d6\u6d88"}),Object(b.jsx)("button",{onClick:function(){if(""!==E.category)if(0!==E.amount){if("add"===E.ope)E.id=h.length+1,p([].concat(Object(o.a)(h),[{id:h.length+1,amount:E.amount,category:E.category,time:E.time,type:E.type}]));else{for(var e=0;e<h.length;e++)h[e].id===E.id&&(h[e]={id:h.length+1,amount:E.amount,category:E.category,time:E.time,type:E.type});p(Object(o.a)(h))}L(!1)}else alert("\u8bf7\u8f93\u5165\u8d26\u5355\u91d1\u989d");else alert("\u8bf7\u9009\u62e9\u5206\u7c7b")},children:"\u786e\u8ba4"})]})})]}),Object(b.jsxs)(O,{children:[Object(b.jsx)(O.Item,{occupy:2,style:{marginTop:10,marginLeft:100,marginBottom:50,marginRight:30,height:"75vh",overflowY:"scroll"},children:Object(b.jsx)(I,{cateMap:m,dataSource:h,columns:R})}),Object(b.jsx)(O.Item,{occupy:1,style:{marginRight:100},children:Object(b.jsx)(M,{handleCateMap:function(e){g(new Map(e))},cateMap:m})})]})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;n(e),i(e),c(e),r(e),l(e)}))};l.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root")),K()}},[[20,1,2]]]);
//# sourceMappingURL=main.d5b40f6e.chunk.js.map